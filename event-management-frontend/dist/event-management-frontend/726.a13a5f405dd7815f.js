"use strict";(self.webpackChunkevent_management_frontend=self.webpackChunkevent_management_frontend||[]).push([[726],{726:(A,R,i)=>{i.r(R),i.d(R,{RegisterComponent:()=>x});var k=i(177),n=i(9417),C=i(7062),g=i(5596),c=i(882),b=i(9631),P=i(8834),v=i(9213),M=i(5416),e=i(7705),w=i(4312);function O(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," First name is required "),e.k0s())}function j(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Last name is required "),e.k0s())}function D(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Username is required "),e.k0s())}function I(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Username must be at least 3 characters "),e.k0s())}function N(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Email is required "),e.k0s())}function T(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid email "),e.k0s())}function y(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Password is required "),e.k0s())}function L(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Password must be at least 6 characters "),e.k0s())}function U(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Please confirm your password "),e.k0s())}function $(r,s){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Passwords do not match "),e.k0s())}function G(r,s){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"hourglass_empty"),e.k0s())}function Y(r,s){1&r&&(e.j41(0,"mat-icon"),e.EFF(1,"person_add"),e.k0s())}let x=(()=>{class r{constructor(o,a,t,l){this.fb=o,this.authService=a,this.router=t,this.snackBar=l,this.hidePassword=!0,this.hideConfirmPassword=!0,this.isLoading=!1,this.lastAutoUsername="",this.registerForm=this.fb.group({firstName:["",[n.k0.required]],lastName:["",[n.k0.required]],username:["",[n.k0.required,n.k0.minLength(3)]],email:["",[n.k0.required,n.k0.email]],phone:[""],password:["",[n.k0.required,n.k0.minLength(6)]],confirmPassword:["",[n.k0.required]]},{validators:this.passwordMatchValidator});const u=this.registerForm.get("firstName").valueChanges,_=this.registerForm.get("lastName").valueChanges,F=this.registerForm.get("email").valueChanges,d=()=>{const f=(this.registerForm.get("username").value||"").trim();if(f&&f!==this.lastAutoUsername)return;const p=(this.registerForm.get("firstName").value||"").toString().trim(),h=(this.registerForm.get("lastName").value||"").toString().trim(),E=(this.registerForm.get("email").value||"").toString().trim();let m="";p||h?m=`${p}.${h}`:E.includes("@")&&(m=E.split("@")[0]),m=m.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9._-]/g,""),m&&m.length>=3&&(this.lastAutoUsername=m,this.registerForm.get("username").setValue(m,{emitEvent:!1}))};u.subscribe(()=>d()),_.subscribe(()=>d()),F.subscribe(()=>d())}passwordMatchValidator(o){const a=o.get("password"),t=o.get("confirmPassword");if(!a||!t)return null;if(a.value!==t.value)return t.setErrors({...t.errors||{},mismatch:!0}),{mismatch:!0};if(t.hasError("mismatch")){const{mismatch:l,...u}=t.errors||{},_=Object.keys(u).length?u:null;t.setErrors(_)}return null}onSubmit(){if(this.registerForm.valid){this.isLoading=!0;const o={...this.registerForm.value};delete o.confirmPassword,Object.keys(o).forEach(a=>{"string"==typeof o[a]&&(o[a]=o[a].trim())}),this.authService.register(o).subscribe({next:()=>{this.snackBar.open("Registration successful! Please login.","Close",{duration:3e3}),this.router.navigate(["/login"])},error:a=>{this.isLoading=!1,this.snackBar.open("Registration failed. Please try again.","Close",{duration:5e3}),console.error("Registration error:",a)}})}}static{this.\u0275fac=function(a){return new(a||r)(e.rXU(n.ok),e.rXU(w.u),e.rXU(C.Ix),e.rXU(M.UG))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:73,vars:19,consts:[[1,"register-container"],[1,"register-card"],[3,"formGroup","ngSubmit"],[1,"form-row"],["appearance","outline",1,"half-width"],["matInput","","formControlName","firstName","type","text","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","lastName","type","text","required",""],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","type","text","required",""],["matInput","","formControlName","email","type","email","required",""],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword","required","",3,"type"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],[1,"login-link"],["routerLink","/login"]],template:function(a,t){if(1&a&&(e.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),e.EFF(5,"person_add"),e.k0s(),e.EFF(6," Join EventHub "),e.k0s()(),e.j41(7,"mat-card-content")(8,"form",2),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),e.EFF(12,"First Name"),e.k0s(),e.nrm(13,"input",5),e.j41(14,"mat-icon",6),e.EFF(15,"person"),e.k0s(),e.DNE(16,O,2,0,"mat-error",7),e.k0s(),e.j41(17,"mat-form-field",4)(18,"mat-label"),e.EFF(19,"Last Name"),e.k0s(),e.nrm(20,"input",8),e.j41(21,"mat-icon",6),e.EFF(22,"person"),e.k0s(),e.DNE(23,j,2,0,"mat-error",7),e.k0s()(),e.j41(24,"mat-form-field",9)(25,"mat-label"),e.EFF(26,"Username"),e.k0s(),e.nrm(27,"input",10),e.j41(28,"mat-icon",6),e.EFF(29,"account_circle"),e.k0s(),e.DNE(30,D,2,0,"mat-error",7),e.DNE(31,I,2,0,"mat-error",7),e.k0s(),e.j41(32,"mat-form-field",9)(33,"mat-label"),e.EFF(34,"Email"),e.k0s(),e.nrm(35,"input",11),e.j41(36,"mat-icon",6),e.EFF(37,"email"),e.k0s(),e.DNE(38,N,2,0,"mat-error",7),e.DNE(39,T,2,0,"mat-error",7),e.k0s(),e.j41(40,"mat-form-field",9)(41,"mat-label"),e.EFF(42,"Phone"),e.k0s(),e.nrm(43,"input",12),e.j41(44,"mat-icon",6),e.EFF(45,"phone"),e.k0s()(),e.j41(46,"mat-form-field",9)(47,"mat-label"),e.EFF(48,"Password"),e.k0s(),e.nrm(49,"input",13),e.j41(50,"button",14),e.bIt("click",function(){return t.hidePassword=!t.hidePassword}),e.j41(51,"mat-icon"),e.EFF(52),e.k0s()(),e.DNE(53,y,2,0,"mat-error",7),e.DNE(54,L,2,0,"mat-error",7),e.k0s(),e.j41(55,"mat-form-field",9)(56,"mat-label"),e.EFF(57,"Confirm Password"),e.k0s(),e.nrm(58,"input",15),e.j41(59,"button",14),e.bIt("click",function(){return t.hideConfirmPassword=!t.hideConfirmPassword}),e.j41(60,"mat-icon"),e.EFF(61),e.k0s()(),e.DNE(62,U,2,0,"mat-error",7),e.DNE(63,$,2,0,"mat-error",7),e.k0s(),e.j41(64,"button",16),e.DNE(65,G,2,0,"mat-icon",7),e.DNE(66,Y,2,0,"mat-icon",7),e.EFF(67),e.k0s()()(),e.j41(68,"mat-card-actions")(69,"p",17),e.EFF(70," Already have an account? "),e.j41(71,"a",18),e.EFF(72,"Sign in here"),e.k0s()()()()()),2&a){let l,u,_,F,d,f,p,h,E,m;e.R7$(8),e.Y8G("formGroup",t.registerForm),e.R7$(8),e.Y8G("ngIf",null==(l=t.registerForm.get("firstName"))?null:l.hasError("required")),e.R7$(7),e.Y8G("ngIf",null==(u=t.registerForm.get("lastName"))?null:u.hasError("required")),e.R7$(7),e.Y8G("ngIf",null==(_=t.registerForm.get("username"))?null:_.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(F=t.registerForm.get("username"))?null:F.hasError("minlength")),e.R7$(7),e.Y8G("ngIf",null==(d=t.registerForm.get("email"))?null:d.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(f=t.registerForm.get("email"))?null:f.hasError("email")),e.R7$(10),e.Y8G("type",t.hidePassword?"password":"text"),e.R7$(3),e.JRh(t.hidePassword?"visibility_off":"visibility"),e.R7$(1),e.Y8G("ngIf",null==(p=t.registerForm.get("password"))?null:p.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(h=t.registerForm.get("password"))?null:h.hasError("minlength")),e.R7$(4),e.Y8G("type",t.hideConfirmPassword?"password":"text"),e.R7$(3),e.JRh(t.hideConfirmPassword?"visibility_off":"visibility"),e.R7$(1),e.Y8G("ngIf",null==(E=t.registerForm.get("confirmPassword"))?null:E.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(m=t.registerForm.get("confirmPassword"))?null:m.hasError("mismatch")),e.R7$(1),e.Y8G("disabled",t.registerForm.invalid||t.isLoading),e.R7$(1),e.Y8G("ngIf",t.isLoading),e.R7$(1),e.Y8G("ngIf",!t.isLoading),e.R7$(1),e.SpI(" ",t.isLoading?"Creating Account...":"Create Account"," ")}},dependencies:[k.MD,k.bT,n.X1,n.qT,n.me,n.BC,n.cb,n.YS,n.j4,n.JD,C.iI,C.Wk,g.Hu,g.RN,g.YY,g.m2,g.MM,g.dh,c.RG,c.rl,c.nJ,c.TL,c.yw,b.fS,b.fg,P.Hl,P.$z,P.iY,v.m_,v.An,M._T],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px}.register-card[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:20px}.register-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.register-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;font-size:1.5rem;color:#1976d2}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.half-width[_ngcontent-%COMP%]{flex:1;margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-link[_ngcontent-%COMP%]{text-align:center;margin:16px 0}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[mat-raised-button][_ngcontent-%COMP%]{height:48px;font-size:1rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}}"]})}}return r})()}}]);